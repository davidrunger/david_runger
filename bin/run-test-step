#!/usr/bin/env ruby
# Run one of the test steps in our Pallets spec suite.

# Example:
#   bin/run-test-step RunUnitTests

# https://stackoverflow.com/a/77655338/4009384
if !defined?(Rails)
  exec('bin/rails', 'runner', __FILE__, *ARGV)
end

require 'dotenv'
Dotenv.load('.env', '.env.test', '.env.test.local')
require 'pallets'
require './lib/test/runner.rb'
"Test::Tasks::#{ARGV[0]}".safe_constantize.new.run
