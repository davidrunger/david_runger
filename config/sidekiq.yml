:concurrency: 1 # I like to just use 1 thread in development so that the logs don't get intermixed
production:
  :concurrency: 2

:queues:
  - ['essential', 12] # ideally we'd run this queue on a separate process, but that'd cost money :(
  - ['default', 3]
  - ['rollbar', 3]
  - ['action_mailbox_incineration', 1]
  - ['action_mailbox_routing', 1]
  - ['active_storage_purge', 1]
  - ['mailers', 1]

:schedule:
  InvalidRecordsChecker:
    cron: '55 16 * * *' # daily at 4:55pm PT
  <% if %w[production test].include?(ENV['RAILS_ENV']) %>
  RunHeat:
    cron: '42 * * * *' # hourly at 42 minutes after the hour
  SendLogReminderEmails:
    cron: '* * * * *' # every minute
  TruncateTables:
    cron: '33 * * * *' # hourly at 33 minutes after
  <% end %>
